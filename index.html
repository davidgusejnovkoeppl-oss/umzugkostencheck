<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Umzugskostencheck ‚Äì Umzugsangebote vergleichen</title>
  <style>
    :root {
      --blue: #1e73be;
      --blue-dark: #195c96;
      --green: #16a34a;
      --bg: #f3f4f6;
      --shadow: 0 20px 40px rgba(15, 23, 42, 0.12);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #eff6ff, #ffffff, #f9fafb);
      min-height: 100vh;
      color: #111827;
    }
    header.hero {
      background: linear-gradient(120deg, #2563eb, #1e40af);
      color: white;
      padding: 3rem 1.5rem 2.5rem;
      text-align: center;
    }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(255, 255, 255, 0.09);
      font-size: 0.8rem;
      margin-bottom: 1.2rem;
    }
    .hero-title {
      font-size: clamp(2.1rem, 4vw, 3rem);
      font-weight: 700;
      margin: 0 0 0.5rem;
    }
    .hero-sub {
      font-size: clamp(1.05rem, 2vw, 1.3rem);
      opacity: 0.9;
      margin: 0 0 1.5rem;
    }
    .hero-stats {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.75rem;
      max-width: 32rem;
      margin: 0 auto;
    }
    .hero-stat {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.7rem 0.9rem;
      border-radius: 0.9rem;
      background: rgba(15, 23, 42, 0.18);
      border: 1px solid rgba(255, 255, 255, 0.16);
      font-size: 0.85rem;
    }
    .hero-stat-dot {
      width: 1.8rem;
      height: 1.8rem;
      border-radius: 999px;
      background: white;
      color: #1e3a8a;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: 600;
    }

    main {
      max-width: 1000px;
      margin: -2.5rem auto 2.5rem;
      padding: 0 1rem 2.5rem;
    }
    .card {
      background: white;
      border-radius: 1.5rem;
      box-shadow: var(--shadow);
      padding: 2.2rem 1.6rem 1.8rem;
    }
    @media (min-width: 768px) {
      .card { padding: 2.6rem 2.3rem 2.3rem; }
    }

    /* Step Indicator */
    .step-wrapper {
      position: relative;
      margin-bottom: 2.4rem;
    }
    .steps-line {
      position: absolute;
      left: 1.5rem;
      right: 1.5rem;
      top: 1.4rem;
      height: 2px;
      background: #e5e7eb;
      z-index: 0;
    }
    .steps {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      z-index: 1;
    }
    .step {
      flex: 1;
      text-align: center;
      font-size: 0.8rem;
      color: #6b7280;
    }
    .step-circle {
      width: 3rem;
      height: 3rem;
      border-radius: 999px;
      border: 2px solid #e5e7eb;
      margin: 0 auto 0.3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      background: #f9fafb;
      color: #6b7280;
      transition: all 0.25s ease;
    }
    .step.active .step-circle {
      border-color: #2563eb;
      background: linear-gradient(135deg,#2563eb,#1d4ed8);
      color: white;
      transform: scale(1.05);
      box-shadow: 0 10px 20px rgba(37, 99, 235, 0.45);
    }
    .step.completed .step-circle {
      border-color: #16a34a;
      background: linear-gradient(135deg,#22c55e,#15803d);
      color: white;
      font-weight: 700;
      box-shadow: 0 10px 20px rgba(22, 163, 74, 0.45);
    }
    .step-label {
      font-size: 0.78rem;
      white-space: nowrap;
      color: #6b7280;
    }
    .step.active .step-label {
      color: #1d4ed8;
      font-weight: 600;
    }

    .form-step { display: none; animation: fadeIn 0.2s ease; }
    .form-step.active { display: block; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(3px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .grid { display: grid; gap: 1rem; }
    .grid-2 { grid-template-columns: repeat(1,minmax(0,1fr)); }
    @media (min-width: 768px) {
      .grid-2 { grid-template-columns: repeat(2,minmax(0,1fr)); }
    }

    label {
      display: block;
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 0.2rem;
      color: #374151;
    }
    input, select {
      width: 100%;
      padding: 0.6rem 0.8rem;
      border-radius: 0.7rem;
      border: 1px solid #d1d5db;
      font-size: 0.9rem;
      background: #f9fafb;
      outline: none;
      transition: border-color 0.12s, box-shadow 0.12s, background 0.12s;
    }
    input:focus, select:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.25);
      background: #ffffff;
    }

    .hint {
      font-size: 0.78rem;
      color: #6b7280;
      margin-top: 0.1rem;
    }

    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin-top: 0.25rem;
    }
    .radio-pill {
      padding: 0.4rem 0.9rem;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      font-size: 0.78rem;
      cursor: pointer;
      background: #f9fafb;
      color: #374151;
      transition: all 0.15s ease;
    }
    .radio-pill.active {
      border-color: #2563eb;
      background: #eff6ff;
      color: #1d4ed8;
      font-weight: 500;
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.25);
    }

    .matching {
      text-align: center;
      padding: 1.6rem 0.5rem 0.5rem;
    }
    .matching-circle {
      width: 4rem;
      height: 4rem;
      border-radius: 999px;
      border: 4px solid #bfdbfe;
      border-top-color: #2563eb;
      margin: 0 auto 1rem;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .btn-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
      margin-top: 2rem;
      padding-top: 1.1rem;
      border-top: 1px solid #e5e7eb;
    }
    .btn {
      border-radius: 999px;
      padding: 0.6rem 1.7rem;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      border: 1px solid transparent;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      transition: all 0.15s ease;
    }
    .btn-outline {
      border-color: #d1d5db;
      background: white;
      color: #374151;
    }
    .btn-outline:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .btn-primary {
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      box-shadow: 0 12px 24px rgba(37, 99, 235, 0.35);
    }
    .btn-primary:disabled {
      opacity: 0.55;
      cursor: not-allowed;
      box-shadow: none;
    }

    .trust {
      text-align: center;
      margin-top: 1.8rem;
      font-size: 0.8rem;
      color: #6b7280;
    }
    .stars {
      display: flex;
      justify-content: center;
      gap: 0.25rem;
      margin-top: 0.35rem;
    }
    .star {
      width: 1.2rem;
      height: 1.2rem;
      border-radius: 999px;
      background: #facc15;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.8rem;
    }

    .thankyou {
      text-align: center;
      padding: 3rem 1.5rem;
    }
    .thankyou-icon {
      width: 4.5rem;
      height: 4.5rem;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #15803d);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2.2rem;
      margin: 0 auto 1rem;
      box-shadow: 0 16px 30px rgba(22, 163, 74, 0.5);
    }
    .thankyou-grid {
      display: grid;
      gap: 0.75rem;
      margin-top: 1.8rem;
    }
    @media (min-width: 768px) {
      .thankyou-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }
    .thankyou-box {
      background: #f9fafb;
      border-radius: 0.9rem;
      padding: 0.9rem;
      font-size: 0.85rem;
    }
    .thankyou-value {
      font-size: 1.3rem;
      font-weight: 700;
      color: #2563eb;
      margin-bottom: 0.1rem;
      display: block;
    }
  </style>
</head>
<body>
  <header class="hero">
    <div class="hero-badge">
      <span>üöö</span>
      <span>Umzugkostencheck ‚Äì Umzugsangebote vergleichen</span>
    </div>
    <h1 class="hero-title">Umzugskosten vergleichen & Angebote erhalten</h1>
    <p class="hero-sub">
      In wenigen Schritten zur passenden Umzugsanfrage. Kostenlos & unverbindlich.
    </p>
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-dot">üë•</div>
        <span>Deutschlandweit</span>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-dot">üèÜ</div>
        <span>Qualifizierte Umzugsunternehmen</span>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-dot">‚Ç¨</div>
        <span>100% kostenlose Anfrage</span>
      </div>
    </div>
  </header>

  <main>
    <!-- Formular-Karte -->
    <div class="card" id="form-card">
      <!-- Step Indicator -->
      <div class="step-wrapper">
        <div class="steps-line"></div>
        <div class="steps" id="step-indicator"></div>
      </div>

      <form id="moving-form">
        <!-- STEP 1: ROUTE -->
        <div class="form-step active" data-step="1">
          <div style="text-align:center;margin-bottom:1.4rem;">
            <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
              Von wo nach wo ziehen Sie?
            </h2>
            <p class="hint">
              Geben Sie Ihre Umzugsroute an. Die Postleitzahl ist Pflicht, die Stadt optional.
            </p>
          </div>

          <div class="grid grid-2" style="gap:1.2rem;">
            <!-- Auszugsort -->
            <div style="padding:1.1rem;border-radius:1.1rem;border:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#ffffff);">
              <h3 style="font-weight:600;color:#111827;display:flex;align-items:center;gap:0.4rem;margin:0 0 0.85rem;">
                <span style="width:8px;height:8px;border-radius:999px;background:#ef4444;"></span>
                Auszugsort
              </h3>
              <div style="margin-bottom:0.75rem;">
                <label for="move_from_zip">Postleitzahl*</label>
                <input id="move_from_zip" name="move_from_zip" />
              </div>
              <div>
                <label for="move_from_city">Stadt (optional)</label>
                <input id="move_from_city" name="move_from_city" />
              </div>
            </div>

            <!-- Einzugsort -->
            <div style="padding:1.1rem;border-radius:1.1rem;border:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#ffffff);">
              <h3 style="font-weight:600;color:#111827;display:flex;align-items:center;gap:0.4rem;margin:0 0 0.85rem;">
                <span style="width:8px;height:8px;border-radius:999px;background:#22c55e;"></span>
                Einzugsort
              </h3>
              <div style="margin-bottom:0.75rem;">
                <label for="move_to_zip">Postleitzahl*</label>
                <input id="move_to_zip" name="move_to_zip" />
              </div>
              <div>
                <label for="move_to_city">Stadt (optional)</label>
                <input id="move_to_city" name="move_to_city" />
              </div>
            </div>
          </div>
        </div>
        
<!-- STEP 2: WOHNUNG -->
<div class="form-step" data-step="2">
  <div style="text-align:center;margin-bottom:1.2rem;">
    <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
      Details zu den Wohnungen
    </h2>
    <p class="hint">
      Helfen Sie den Umzugsfirmen, den Aufwand besser einzusch√§tzen.
    </p>
  </div>

  <div class="grid grid-2" style="gap:1.2rem;">
    <!-- Wohnung Auszug -->
    <div style="padding:1.1rem;border-radius:1.1rem;border:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#ffffff);">
      <h3 style="font-weight:600;color:#111827;display:flex;align-items:center;gap:0.4rem;margin:0 0 0.85rem;">
        <span style="width:8px;height:8px;border-radius:999px;background:#ef4444;"></span>
        Wohnung Auszug
      </h3>

      <div style="margin-bottom:0.7rem;">
        <label for="living_space_from">Wohnfl√§che (m¬≤)</label>
        <input id="living_space_from" name="living_space_from" type="number" />
      </div>
      <div style="margin-bottom:0.7rem;">
        <label for="rooms_from">Anzahl Zimmer</label>
        <input id="rooms_from" name="rooms_from" type="number" />
      </div>
      <div style="margin-bottom:0.9rem;">
        <label for="floor_from">Etage</label>
        <input id="floor_from" name="floor_from" type="number" />
      </div>

      <div style="display:flex;align-items:center;gap:0.6rem;">
        <input type="checkbox" id="has_elevator_from" />
        <label for="has_elevator_from" style="font-size:0.9rem;cursor:pointer;">
          Aufzug vorhanden
        </label>
      </div>
    </div>

    <!-- Wohnung Einzug -->
    <div style="padding:1.1rem;border-radius:1.1rem;border:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#ffffff);">
      <h3 style="font-weight:600;color:#111827;display:flex;align-items:center;gap:0.4rem;margin:0 0 0.85rem;">
        <span style="width:8px;height:8px;border-radius:999px;background:#22c55e;"></span>
        Wohnung Einzug
      </h3>

      <div style="margin-bottom:0.7rem;">
        <label for="living_space_to">Wohnfl√§che (m¬≤)</label>
        <input id="living_space_to" name="living_space_to" type="number" />
      </div>
      <div style="margin-bottom:0.7rem;">
        <label for="rooms_to">Anzahl Zimmer</label>
        <input id="rooms_to" name="rooms_to" type="number" />
      </div>
      <div style="margin-bottom:0.9rem;">
        <label for="floor_to">Etage</label>
        <input id="floor_to" name="floor_to" type="number" />
      </div>

      <div style="display:flex;align-items:center;gap:0.6rem;">
        <input type="checkbox" id="has_elevator_to" />
        <label for="has_elevator_to" style="font-size:0.9rem;cursor:pointer;">
          Aufzug vorhanden
        </label>
      </div>
    </div>
  </div>
</div>

      
        <!-- STEP 3: UMZUGSDETAILS -->
        <div class="form-step" data-step="3">
          <div style="text-align:center;margin-bottom:1.2rem;">
            <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
              Art & Umfang des Umzugs
            </h2>
            <p class="hint">
              Diese Angaben sind wichtig, um passende Unternehmen zu finden.
            </p>
          </div>

          <div class="grid" style="gap:1.2rem;">
            <div>
              <label>Art des Umzugs*</label>
              <div class="radio-group" id="move_type_group">
                <div class="radio-pill" data-value="privat">Privatumzug</div>
                <div class="radio-pill" data-value="firma">Firmenumzug</div>
                <div class="radio-pill" data-value="student">Studentenumzug</div>
              </div>
            </div>
            <div>
              <label>Ist es ein internationaler Umzug?*</label>
              <div class="radio-group" id="is_international_group">
                <div class="radio-pill" data-value="false">Nein, innerhalb des Landes</div>
                <div class="radio-pill" data-value="true">Ja, ins Ausland</div>
              </div>
            </div>
            <div>
              <label for="move_scope">Umzugsumfang*</label>
              <select id="move_scope" name="move_scope">
                <option value="">Bitte w√§hlen</option>
                <option value="klein">Kleiner Umzug (1‚Äì2 Zimmer)</option>
                <option value="mittel">Normaler Haushalt (3‚Äì4 Zimmer)</option>
                <option value="gross">Gro√üer Haushalt / Haus</option>
              </select>
            </div>
          </div>
        </div>

        <!-- STEP 4: MATCHING -->
        <div class="form-step" data-step="4">
          <div class="matching">
            <div class="matching-circle"></div>
            <h2 style="margin-top:0.3rem;margin-bottom:0.5rem;font-size:1.3rem;font-weight:600;">
              Wir suchen passende Umzugsunternehmen‚Ä¶
            </h2>
            <p class="hint" style="max-width:26rem;margin:0 auto 0.5rem;">
              Anhand Ihrer Angaben gleichen wir verf√ºgbare Umzugsfirmen aus Ihrer Umgebung ab.
              Im n√§chsten Schritt k√∂nnen Sie Ihre Kontaktdaten hinterlassen, um Angebote zu erhalten.
            </p>
          </div>
        </div>

        <!-- STEP 5: KONTAKT -->
        <div class="form-step" data-step="5">
          <div style="text-align:center;margin-bottom:1.2rem;">
            <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
              Kontaktdaten & Umzugstermin
            </h2>
            <p class="hint">
              Diese Angaben sind zwingend notwendig, damit unsere Partner Sie kontaktieren k√∂nnen.
            </p>
          </div>

          <div class="grid grid-2">
            <div>
              <label for="customer_name">Ihr Name*</label>
              <input id="customer_name" name="customer_name" />
            </div>
            <div>
              <label for="phone">Telefonnummer*</label>
              <input id="phone" name="phone" placeholder="+49‚Ä¶" />
            </div>
            <div>
              <label for="email">E-Mail-Adresse*</label>
              <input id="email" name="email" type="email" />
            </div>
            <div>
              <label>Umzugstermin*</label>
              <div class="radio-group" id="move_date_type_group">
                <div class="radio-pill" data-value="fest">Konkretes Datum</div>
                <div class="radio-pill" data-value="flexibel">Zeitraum</div>
              </div>
            </div>
          </div>

          <div class="grid grid-2" id="date-fixed-row" style="margin-top:0.9rem;">
            <div>
              <label for="move_date">Umzugsdatum*</label>
              <input id="move_date" name="move_date" type="date" />
            </div>
          </div>

          <div class="grid grid-2" id="date-range-row" style="margin-top:0.9rem; display:none;">
            <div>
              <label for="move_date_from">Fr√ºhestes Datum*</label>
              <input id="move_date_from" name="move_date_from" type="date" />
            </div>
            <div>
              <label for="move_date_to">Sp√§testes Datum*</label>
              <input id="move_date_to" name="move_date_to" type="date" />
            </div>
          </div>

          <p class="hint" style="margin-top:0.6rem;">
            Mit Klick auf ‚ÄûAngebote erhalten‚Äú stimmen Sie zu, dass ausgew√§hlte Umzugsunternehmen Ihre
            Daten erhalten und Sie zur Angebotserstellung kontaktieren d√ºrfen.
          </p>
        </div>
      </form>

      <!-- Buttons -->
      <div class="btn-row" id="button-row">
        <button type="button" class="btn btn-outline" id="btn-back">
          ‚Üê Zur√ºck
        </button>
        <button type="button" class="btn btn-primary" id="btn-next">
          Weiter ‚Üí
        </button>
      </div>
    </div>

    <!-- Danke-Karte -->
    <div class="card" id="thankyou-card" style="display:none;">
      <div class="thankyou">
        <div class="thankyou-icon">‚úì</div>
        <h2 style="margin:0 0 0.5rem;font-size:1.5rem;">Vielen Dank f√ºr Ihre Anfrage!</h2>
        <p style="margin:0 0 1.2rem;font-size:0.95rem;color:#4b5563;">
          Wir haben Ihre Umzugsanfrage erhalten. In der Regel erhalten Sie innerhalb von
          24 Stunden mehrere unverbindliche Angebote von passenden Umzugsunternehmen.
        </p>
        <div class="thankyou-grid">
          <div class="thankyou-box">
            <span class="thankyou-value">24h</span>
            <span>Schnelle R√ºckmeldung</span>
          </div>
          <div class="thankyou-box">
            <span class="thankyou-value">3‚Äì5</span>
            <span>Individuelle Angebote</span>
          </div>
          <div class="thankyou-box">
            <span class="thankyou-value">100%</span>
            <span>Kostenlos & unverbindlich</span>
          </div>
        </div>
      </div>
    </div>

    <div class="trust">
      Vertraut von zahlreichen Umziehenden in ganz Deutschland
      <div class="stars">
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <span style="margin-left:0.35rem;">4,8 / 5,0</span>
      </div>
    </div>
  </main>

  <script>
    const TOTAL_STEPS = 5;
    const STEPS_LABELS = ["Route", "Wohnung", "Details", "Matching", "Kontakt"];
    let currentStep = 1;
    const formData = {};

    const stepIndicatorEl = document.getElementById("step-indicator");
    const formSteps = document.querySelectorAll(".form-step");
    const btnBack = document.getElementById("btn-back");
    const btnNext = document.getElementById("btn-next");
    const formCard = document.getElementById("form-card");
    const thankyouCard = document.getElementById("thankyou-card");

    function renderStepIndicator() {
      stepIndicatorEl.innerHTML = "";
      for (let i = 1; i <= TOTAL_STEPS; i++) {
        const stepDiv = document.createElement("div");
        stepDiv.className = "step";
        if (i === currentStep) stepDiv.classList.add("active");
        if (i < currentStep) stepDiv.classList.add("completed");

        const circle = document.createElement("div");
        circle.className = "step-circle";
        circle.textContent = i < currentStep ? "‚úì" : i;

        const label = document.createElement("div");
        label.className = "step-label";
        label.textContent = STEPS_LABELS[i - 1];

        stepDiv.appendChild(circle);
        stepDiv.appendChild(label);
        stepIndicatorEl.appendChild(stepDiv);
      }
    }

    function showStep(step) {
      currentStep = step;
      formSteps.forEach((el) => {
        const s = parseInt(el.getAttribute("data-step"), 10);
        el.classList.toggle("active", s === currentStep);
      });
      renderStepIndicator();
      updateButtons();
    }

    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.trim());
    }

    function isValidPhone(phone) {
      const digits = phone.replace(/\D/g, "");
      return digits.length >= 7;
    }

    function canProceed() {
      if (currentStep === 1) {
        const from = document.getElementById("move_from_zip").value.trim();
        const to = document.getElementById("move_to_zip").value.trim();
        return from && to; // Stadt optional
      }
      if (currentStep === 3) {
        return (
          formData.move_type &&
          typeof formData.is_international !== "undefined" &&
          document.getElementById("move_scope").value
        );
      }
      if (currentStep === 5) {
        const name = document.getElementById("customer_name").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const type = formData.move_date_type;
        let hasDateInfo = false;
        if (type === "fest") {
          hasDateInfo = !!document.getElementById("move_date").value;
        } else if (type === "flexibel") {
          hasDateInfo =
            document.getElementById("move_date_from").value &&
            document.getElementById("move_date_to").value;
        }
        return (
          name.length >= 2 &&
          isValidEmail(email) &&
          isValidPhone(phone) &&
          hasDateInfo
        );
      }
      return true;
    }

    function updateButtons() {
      btnBack.disabled = currentStep === 1;
      if (currentStep === TOTAL_STEPS) {
        btnNext.textContent = "Angebote erhalten ‚úì";
        btnNext.disabled = !canProceed();
      } else {
        btnNext.textContent = "Weiter ‚Üí";
        if (currentStep === 4) {
          btnNext.disabled = false;
        } else {
          btnNext.disabled = !canProceed();
        }
      }
    }

    function collectStepData() {
      // Route
      formData.move_from_zip = document.getElementById("move_from_zip").value.trim();
      formData.move_from_city = document.getElementById("move_from_city")?.value.trim() || "";
      formData.move_to_zip = document.getElementById("move_to_zip").value.trim();
      formData.move_to_city = document.getElementById("move_to_city")?.value.trim() || "";

      // Wohnung (optional)
      formData.living_space = document.getElementById("living_space")?.value || "";
      formData.rooms = document.getElementById("rooms")?.value || "";
      formData.floor_from = document.getElementById("floor_from")?.value || "";
      formData.floor_to = document.getElementById("floor_to")?.value || "";
      formData.has_elevator_from = document.getElementById("has_elevator_from")?.checked || false;
      formData.has_elevator_to = document.getElementById("has_elevator_to")?.checked || false;

      // Scope
      formData.move_scope = document.getElementById("move_scope")?.value || "";

      // Kontakt
      formData.customer_name = document.getElementById("customer_name")?.value.trim() || "";
      formData.phone = document.getElementById("phone")?.value.trim() || "";
      formData.email = document.getElementById("email")?.value.trim() || "";
      formData.move_date = document.getElementById("move_date")?.value || "";
      formData.move_date_from = document.getElementById("move_date_from")?.value || "";
      formData.move_date_to = document.getElementById("move_date_to")?.value || "";
    }

    function setupRadioGroup(groupId, fieldName, parseBool = false) {
      const group = document.getElementById(groupId);
      if (!group) return;
      group.addEventListener("click", (e) => {
        const pill = e.target.closest(".radio-pill");
        if (!pill) return;
        Array.from(group.querySelectorAll(".radio-pill")).forEach((el) =>
          el.classList.remove("active")
        );
        pill.classList.add("active");
        const value = pill.getAttribute("data-value");
        formData[fieldName] = parseBool ? value === "true" : value;
        if (groupId === "move_date_type_group") {
          toggleDateType();
        }
        updateButtons();
      });
    }

    function toggleDateType() {
      const type = formData.move_date_type;
      const fixedRow = document.getElementById("date-fixed-row");
      const rangeRow = document.getElementById("date-range-row");
      if (type === "fest") {
        fixedRow.style.display = "grid";
        rangeRow.style.display = "none";
      } else if (type === "flexibel") {
        fixedRow.style.display = "none";
        rangeRow.style.display = "grid";
      } else {
        fixedRow.style.display = "grid";
        rangeRow.style.display = "none";
      }
    }

    btnBack.addEventListener("click", () => {
      if (currentStep > 1) {
        showStep(currentStep - 1);
      }
    });

    btnNext.addEventListener("click", () => {
      if (currentStep === TOTAL_STEPS) {
        handleSubmit();
        return;
      }
      if (!canProceed()) return;

      if (currentStep === 3) {
        showStep(4);
        setTimeout(() => {
          showStep(5);
        }, 1200);
      } else {
        showStep(currentStep + 1);
      }
    });

    function handleSubmit() {
      if (!canProceed()) return;
      collectStepData();

      // HIER sp√§ter: API-Aufruf an dein Backend
      console.log("Formulardaten:", formData);

      formCard.style.display = "none";
      thankyouCard.style.display = "block";
    }

    // Init
    renderStepIndicator();
    setupRadioGroup("move_type_group", "move_type");
    setupRadioGroup("is_international_group", "is_international", true);
    setupRadioGroup("move_date_type_group", "move_date_type");
    toggleDateType();
    updateButtons();

    // Live-Validierung
    [
      "move_from_zip",
      "move_to_zip",
      "customer_name",
      "email",
      "phone",
      "move_date",
      "move_date_from",
      "move_date_to"
    ].forEach((id) => {
      const el = document.getElementById(id);
      if (el) {
        el.addEventListener("input", () => {
          collectStepData();
          updateButtons();
        });
      }
    });
    const moveScopeEl = document.getElementById("move_scope");
    if (moveScopeEl) {
      moveScopeEl.addEventListener("change", () => {
        collectStepData();
        updateButtons();
      });
    }
  </script>
</body>
</html>
