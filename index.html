  <header class="hero">
    <div class="hero-badge">
      <span>üöö</span>
      <span>Umzugskostencheck ‚Äì Umzugsangebote vergleichen</span>
      <span>Umzugkostencheck ‚Äì Umzugsangebote vergleichen</span>
    </div>
    <h1 class="hero-title">Umzugskosten vergleichen & Angebote erhalten</h1>
    <p class="hero-sub">
@@ -362,7 +362,7 @@
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-dot">üë•</div>
        <span>√úber 500 gepr√ºfte Partner</span>
        <span>Deutschlandweit</span>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-dot">üèÜ</div>
@@ -430,449 +430,474 @@
            </div>
          </div>
        </div>
        
<!-- STEP 2: WOHNUNG -->
<div class="form-step" data-step="2">
  <div style="text-align:center;margin-bottom:1.2rem;">
    <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
      Details zu den Wohnungen
    </h2>
    <p class="hint">
      Helfen Sie den Umzugsfirmen, den Aufwand besser einzusch√§tzen.
    </p>
  </div>

  <div class="grid grid-2" style="gap:1.2rem;">
    <!-- Wohnung Auszug -->
    <div style="padding:1.1rem;border-radius:1.1rem;border:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#ffffff);">
      <h3 style="font-weight:600;color:#111827;display:flex;align-items:center;gap:0.4rem;margin:0 0 0.85rem;">
        <span style="width:8px;height:8px;border-radius:999px;background:#ef4444;"></span>
        Wohnung Auszug
      </h3>

      <div style="margin-bottom:0.7rem;">
        <label for="living_space_from">Wohnfl√§che (m¬≤)</label>
        <input id="living_space_from" name="living_space_from" type="number" />
      </div>
      <div style="margin-bottom:0.7rem;">
        <label for="rooms_from">Anzahl Zimmer</label>
        <input id="rooms_from" name="rooms_from" type="number" />
      </div>
      <div style="margin-bottom:0.9rem;">
        <label for="floor_from">Etage</label>
        <input id="floor_from" name="floor_from" type="number" />
      </div>

        <!-- STEP 2: WOHNUNG (alles optional) -->
        <div class="form-step" data-step="2">
          <div style="text-align:center;margin-bottom:1.2rem;">
            <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
              Details zur Wohnung (optional)
            </h2>
            <p class="hint">
              Diese Angaben helfen, den Aufwand besser einzusch√§tzen ‚Äì sind aber freiwillig.
            </p>
          </div>
      <div style="display:flex;align-items:center;gap:0.6rem;">
        <input type="checkbox" id="has_elevator_from" />
        <label for="has_elevator_from" style="font-size:0.9rem;cursor:pointer;">
          Aufzug vorhanden
        </label>
      </div>
    </div>

          <div class="grid grid-2">
            <div>
              <label for="living_space">Wohnfl√§che (m¬≤)</label>
              <input id="living_space" name="living_space" type="number" />
            </div>
            <div>
              <label for="rooms">Anzahl Zimmer</label>
              <input id="rooms" name="rooms" type="number" />
            </div>
            <div>
              <label for="floor_from">Etage Auszug</label>
              <input id="floor_from" name="floor_from" type="number" />
            </div>
            <div>
              <label for="floor_to">Etage Einzug</label>
              <input id="floor_to" name="floor_to" type="number" />
            </div>
          </div>
    <!-- Wohnung Einzug -->
    <div style="padding:1.1rem;border-radius:1.1rem;border:1px solid #e5e7eb;background:linear-gradient(135deg,#f9fafb,#ffffff);">
      <h3 style="font-weight:600;color:#111827;display:flex;align-items:center;gap:0.4rem;margin:0 0 0.85rem;">
        <span style="width:8px;height:8px;border-radius:999px;background:#22c55e;"></span>
        Wohnung Einzug
      </h3>

          <div class="grid grid-2" style="margin-top:1rem;">
            <div style="display:flex;align-items:center;gap:0.6rem;padding:0.7rem 0.9rem;border-radius:0.9rem;border:1px solid #e5e7eb;">
              <input type="checkbox" id="has_elevator_from" />
              <label for="has_elevator_from" style="font-size:0.9rem;cursor:pointer;">
                Aufzug vorhanden am Auszugsort
              </label>
            </div>
            <div style="display:flex;align-items:center;gap:0.6rem;padding:0.7rem 0.9rem;border-radius:0.9rem;border:1px solid #e5e7eb;">
              <input type="checkbox" id="has_elevator_to" />
              <label for="has_elevator_to" style="font-size:0.9rem;cursor:pointer;">
                Aufzug vorhanden am Einzugsort
              </label>
            </div>
          </div>
        </div>
      <div style="margin-bottom:0.7rem;">
        <label for="living_space_to">Wohnfl√§che (m¬≤)</label>
        <input id="living_space_to" name="living_space_to" type="number" />
      </div>
      <div style="margin-bottom:0.7rem;">
        <label for="rooms_to">Anzahl Zimmer</label>
        <input id="rooms_to" name="rooms_to" type="number" />
      </div>
      <div style="margin-bottom:0.9rem;">
        <label for="floor_to">Etage</label>
        <input id="floor_to" name="floor_to" type="number" />
      </div>

      <div style="display:flex;align-items:center;gap:0.6rem;">
        <input type="checkbox" id="has_elevator_to" />
        <label for="has_elevator_to" style="font-size:0.9rem;cursor:pointer;">
          Aufzug vorhanden
        </label>
      </div>
    </div>
  </div>
</div>

      
        <!-- STEP 3: UMZUGSDETAILS -->
        <div class="form-step" data-step="3">
          <div style="text-align:center;margin-bottom:1.2rem;">
            <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
              Art & Umfang des Umzugs
            </h2>
            <p class="hint">
              Diese Angaben sind wichtig, um passende Unternehmen zu finden.
            </p>
          </div>

          <div class="grid" style="gap:1.2rem;">
            <div>
              <label>Art des Umzugs*</label>
              <div class="radio-group" id="move_type_group">
                <div class="radio-pill" data-value="privat">Privatumzug</div>
                <div class="radio-pill" data-value="firma">Firmenumzug</div>
                <div class="radio-pill" data-value="student">Studentenumzug</div>
              </div>
            </div>
            <div>
              <label>Ist es ein internationaler Umzug?*</label>
              <div class="radio-group" id="is_international_group">
                <div class="radio-pill" data-value="false">Nein, innerhalb des Landes</div>
                <div class="radio-pill" data-value="true">Ja, ins Ausland</div>
              </div>
            </div>
            <div>
              <label for="move_scope">Umzugsumfang*</label>
              <select id="move_scope" name="move_scope">
                <option value="">Bitte w√§hlen</option>
                <option value="klein">Kleiner Umzug (1‚Äì2 Zimmer)</option>
                <option value="mittel">Normaler Haushalt (3‚Äì4 Zimmer)</option>
                <option value="gross">Gro√üer Haushalt / Haus</option>
              </select>
            </div>
          </div>
        </div>

        <!-- STEP 4: MATCHING -->
        <div class="form-step" data-step="4">
          <div class="matching">
            <div class="matching-circle"></div>
            <h2 style="margin-top:0.3rem;margin-bottom:0.5rem;font-size:1.3rem;font-weight:600;">
              Wir suchen passende Umzugsunternehmen‚Ä¶
            </h2>
            <p class="hint" style="max-width:26rem;margin:0 auto 0.5rem;">
              Anhand Ihrer Angaben gleichen wir verf√ºgbare Umzugsfirmen aus Ihrer Umgebung ab.
              Im n√§chsten Schritt k√∂nnen Sie Ihre Kontaktdaten hinterlassen, um Angebote zu erhalten.
            </p>
          </div>
        </div>

        <!-- STEP 5: KONTAKT -->
        <div class="form-step" data-step="5">
          <div style="text-align:center;margin-bottom:1.2rem;">
            <h2 style="margin:0 0 0.4rem;font-size:1.3rem;font-weight:600;">
              Kontaktdaten & Umzugstermin
            </h2>
            <p class="hint">
              Diese Angaben sind zwingend notwendig, damit unsere Partner Sie kontaktieren k√∂nnen.
            </p>
          </div>

          <div class="grid grid-2">
            <div>
              <label for="customer_name">Ihr Name*</label>
              <input id="customer_name" name="customer_name" />
            </div>
            <div>
              <label for="phone">Telefonnummer*</label>
              <input id="phone" name="phone" placeholder="+49‚Ä¶" />
            </div>
            <div>
              <label for="email">E-Mail-Adresse*</label>
              <input id="email" name="email" type="email" />
            </div>
            <div>
              <label>Umzugstermin*</label>
              <div class="radio-group" id="move_date_type_group">
                <div class="radio-pill" data-value="fest">Konkretes Datum</div>
                <div class="radio-pill" data-value="flexibel">Zeitraum</div>
              </div>
            </div>
          </div>

          <div class="grid grid-2" id="date-fixed-row" style="margin-top:0.9rem;">
            <div>
              <label for="move_date">Umzugsdatum*</label>
              <input id="move_date" name="move_date" type="date" />
            </div>
          </div>

          <div class="grid grid-2" id="date-range-row" style="margin-top:0.9rem; display:none;">
            <div>
              <label for="move_date_from">Fr√ºhestes Datum*</label>
              <input id="move_date_from" name="move_date_from" type="date" />
            </div>
            <div>
              <label for="move_date_to">Sp√§testes Datum*</label>
              <input id="move_date_to" name="move_date_to" type="date" />
            </div>
          </div>

          <p class="hint" style="margin-top:0.6rem;">
            Mit Klick auf ‚ÄûAngebote erhalten‚Äú stimmen Sie zu, dass ausgew√§hlte Umzugsunternehmen Ihre
            Daten erhalten und Sie zur Angebotserstellung kontaktieren d√ºrfen.
          </p>
        </div>
      </form>

      <!-- Buttons -->
      <div class="btn-row" id="button-row">
        <button type="button" class="btn btn-outline" id="btn-back">
          ‚Üê Zur√ºck
        </button>
        <button type="button" class="btn btn-primary" id="btn-next">
          Weiter ‚Üí
        </button>
      </div>
    </div>

    <!-- Danke-Karte -->
    <div class="card" id="thankyou-card" style="display:none;">
      <div class="thankyou">
        <div class="thankyou-icon">‚úì</div>
        <h2 style="margin:0 0 0.5rem;font-size:1.5rem;">Vielen Dank f√ºr Ihre Anfrage!</h2>
        <p style="margin:0 0 1.2rem;font-size:0.95rem;color:#4b5563;">
          Wir haben Ihre Umzugsanfrage erhalten. In der Regel erhalten Sie innerhalb von
          24 Stunden mehrere unverbindliche Angebote von passenden Umzugsunternehmen.
        </p>
        <div class="thankyou-grid">
          <div class="thankyou-box">
            <span class="thankyou-value">24h</span>
            <span>Schnelle R√ºckmeldung</span>
          </div>
          <div class="thankyou-box">
            <span class="thankyou-value">3‚Äì5</span>
            <span>Individuelle Angebote</span>
          </div>
          <div class="thankyou-box">
            <span class="thankyou-value">100%</span>
            <span>Kostenlos & unverbindlich</span>
          </div>
        </div>
      </div>
    </div>

    <div class="trust">
      Vertraut von zahlreichen Umziehenden in ganz Deutschland
      <div class="stars">
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <div class="star">‚òÖ</div>
        <span style="margin-left:0.35rem;">4,8 / 5,0</span>
      </div>
    </div>
  </main>

  <script>
    const TOTAL_STEPS = 5;
    const STEPS_LABELS = ["Route", "Wohnung", "Details", "Matching", "Kontakt"];
    let currentStep = 1;
    const formData = {};

    const stepIndicatorEl = document.getElementById("step-indicator");
    const formSteps = document.querySelectorAll(".form-step");
    const btnBack = document.getElementById("btn-back");
    const btnNext = document.getElementById("btn-next");
    const formCard = document.getElementById("form-card");
    const thankyouCard = document.getElementById("thankyou-card");

    function renderStepIndicator() {
      stepIndicatorEl.innerHTML = "";
      for (let i = 1; i <= TOTAL_STEPS; i++) {
        const stepDiv = document.createElement("div");
        stepDiv.className = "step";
        if (i === currentStep) stepDiv.classList.add("active");
        if (i < currentStep) stepDiv.classList.add("completed");

        const circle = document.createElement("div");
        circle.className = "step-circle";
        circle.textContent = i < currentStep ? "‚úì" : i;

        const label = document.createElement("div");
        label.className = "step-label";
        label.textContent = STEPS_LABELS[i - 1];

        stepDiv.appendChild(circle);
        stepDiv.appendChild(label);
        stepIndicatorEl.appendChild(stepDiv);
      }
    }

    function showStep(step) {
      currentStep = step;
      formSteps.forEach((el) => {
        const s = parseInt(el.getAttribute("data-step"), 10);
        el.classList.toggle("active", s === currentStep);
      });
      renderStepIndicator();
      updateButtons();
    }

    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.trim());
    }

    function isValidPhone(phone) {
      const digits = phone.replace(/\D/g, "");
      return digits.length >= 7;
    }

    function canProceed() {
      if (currentStep === 1) {
        const from = document.getElementById("move_from_zip").value.trim();
        const to = document.getElementById("move_to_zip").value.trim();
        return from && to; // Stadt optional
      }
      if (currentStep === 3) {
        return (
          formData.move_type &&
          typeof formData.is_international !== "undefined" &&
          document.getElementById("move_scope").value
        );
      }
      if (currentStep === 5) {
        const name = document.getElementById("customer_name").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const type = formData.move_date_type;
        let hasDateInfo = false;
        if (type === "fest") {
          hasDateInfo = !!document.getElementById("move_date").value;
        } else if (type === "flexibel") {
          hasDateInfo =
            document.getElementById("move_date_from").value &&
            document.getElementById("move_date_to").value;
        }
        return (
          name.length >= 2 &&
          isValidEmail(email) &&
          isValidPhone(phone) &&
          hasDateInfo
        );
      }
      return true;
    }

    function updateButtons() {
      btnBack.disabled = currentStep === 1;
      if (currentStep === TOTAL_STEPS) {
        btnNext.textContent = "Angebote erhalten ‚úì";
        btnNext.disabled = !canProceed();
      } else {
        btnNext.textContent = "Weiter ‚Üí";
        if (currentStep === 4) {
          btnNext.disabled = false;
        } else {
          btnNext.disabled = !canProceed();
        }
      }
    }

    function collectStepData() {
      // Route
      formData.move_from_zip = document.getElementById("move_from_zip").value.trim();
      formData.move_from_city = document.getElementById("move_from_city")?.value.trim() || "";
      formData.move_to_zip = document.getElementById("move_to_zip").value.trim();
      formData.move_to_city = document.getElementById("move_to_city")?.value.trim() || "";

      // Wohnung (optional)
      formData.living_space = document.getElementById("living_space")?.value || "";
      formData.rooms = document.getElementById("rooms")?.value || "";
      formData.floor_from = document.getElementById("floor_from")?.value || "";
      formData.floor_to = document.getElementById("floor_to")?.value || "";
      formData.has_elevator_from = document.getElementById("has_elevator_from")?.checked || false;
      formData.has_elevator_to = document.getElementById("has_elevator_to")?.checked || false;

      // Scope
      formData.move_scope = document.getElementById("move_scope")?.value || "";

      // Kontakt
      formData.customer_name = document.getElementById("customer_name")?.value.trim() || "";
      formData.phone = document.getElementById("phone")?.value.trim() || "";
      formData.email = document.getElementById("email")?.value.trim() || "";
      formData.move_date = document.getElementById("move_date")?.value || "";
      formData.move_date_from = document.getElementById("move_date_from")?.value || "";
      formData.move_date_to = document.getElementById("move_date_to")?.value || "";
    }

    function setupRadioGroup(groupId, fieldName, parseBool = false) {
      const group = document.getElementById(groupId);
      if (!group) return;
      group.addEventListener("click", (e) => {
        const pill = e.target.closest(".radio-pill");
        if (!pill) return;
        Array.from(group.querySelectorAll(".radio-pill")).forEach((el) =>
          el.classList.remove("active")
        );
        pill.classList.add("active");
        const value = pill.getAttribute("data-value");
        formData[fieldName] = parseBool ? value === "true" : value;
        if (groupId === "move_date_type_group") {
          toggleDateType();
        }
        updateButtons();
      });
    }

    function toggleDateType() {
      const type = formData.move_date_type;
      const fixedRow = document.getElementById("date-fixed-row");
      const rangeRow = document.getElementById("date-range-row");
      if (type === "fest") {
        fixedRow.style.display = "grid";
        rangeRow.style.display = "none";
      } else if (type === "flexibel") {
        fixedRow.style.display = "none";
        rangeRow.style.display = "grid";
      } else {
        fixedRow.style.display = "grid";
        rangeRow.style.display = "none";
      }
    }

    btnBack.addEventListener("click", () => {
      if (currentStep > 1) {
        showStep(currentStep - 1);
      }
    });

    btnNext.addEventListener("click", () => {
      if (currentStep === TOTAL_STEPS) {
        handleSubmit();
        return;
      }
      if (!canProceed()) return;

      if (currentStep === 3) {
        showStep(4);
        setTimeout(() => {
          showStep(5);
        }, 1200);
      } else {
        showStep(currentStep + 1);
      }
    });

    function handleSubmit() {
      if (!canProceed()) return;
      collectStepData();

      // HIER sp√§ter: API-Aufruf an dein Backend
      console.log("Formulardaten:", formData);

      formCard.style.display = "none";
      thankyouCard.style.display = "block";
    }

    // Init
    renderStepIndicator();
    setupRadioGroup("move_type_group", "move_type");
    setupRadioGroup("is_international_group", "is_international", true);
    setupRadioGroup("move_date_type_group", "move_date_type");
    toggleDateType();
    updateButtons();

    // Live-Validierung
    [
      "move_from_zip",
      "move_to_zip",
      "customer_name",
      "email",
      "phone",
      "move_date",
      "move_date_from",
      "move_date_to"
    ].forEach((id) => {
      const el = document.getElementById(id);
      if (el) {
        el.addEventListener("input", () => {
          collectStepData();
          updateButtons();
        });
      }
    });
    const moveScopeEl = document.getElementById("move_scope");
    if (moveScopeEl) {
      moveScopeEl.addEventListener("change", () => {
        collectStepData();
        updateButtons();
      });
    }
  </script>
</body>
</html>
